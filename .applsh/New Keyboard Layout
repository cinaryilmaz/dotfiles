#!/bin/bash
xoffset=$[(`xdpyinfo | grep dimensions: | grep -o '[0-9]\+' | sed -n 1p` - 384) / 2]
yoffset=$[(`xdpyinfo | grep dimensions: | grep -o '[0-9]\+' | sed -n 2p` - (`[[ \`find ~/.applsh/web -maxdepth 1 -type f -printf "%f\n" | wc -l\` > 10 ]] && echo 10 || \`find ~/.applsh/web -maxdepth 1 -type f -printf "%f\n" | wc -l\`` + 1) * 21) / 2]
option=`(echo -e "English\nTurkish (TÃ¼rkÃ§e)\nOrkhon Turkish (ğ°°ğ°¼ğ°‡ğ±…)\nCyrillic Mongolian (ĞœĞ¾Ğ½Ğ³Ğ¾Ğ»)\nGreek (Î•Î»Î»Î·Î½Î¹ÎºÎ¬)\nBack") | dmenu -x $xoffset -y $yoffset -z 384 -l 10 -i -p "Select keyboard layout:"`
if [[ "$option" = "Back" ]]
then
    applaunch
elif [[ "$option" = "" ]]
then
    exit 0
elif [[ "$option" = "English" ]]
then
    setxkbmap us
elif [[ "$option" = "Turkish (TÃ¼rkÃ§e)" ]]
then
    setxkbmap tr
elif [[ "$option" = "Orkhon Turkish (ğ°°ğ°¼ğ°‡ğ±…)" ]]
then
    setxkbmap tr -variant otk
elif [[ "$option" = "Cyrillic Mongolian (ĞœĞ¾Ğ½Ğ³Ğ¾Ğ»)" ]]
then
    setxkbmap mn
elif [[ "$option" = "Greek (Î•Î»Î»Î·Î½Î¹ÎºÎ¬)" ]]
then
    setxkbmap gr
fi

